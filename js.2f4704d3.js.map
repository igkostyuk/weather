{"version":3,"sources":["js/framework/ComponentFactory.js","js/utils/parser.js","js/framework/Component.js","js/Services/WeatherDataService.js","js/Services/AppState.js","js/Components/SearchBar/SearchBar.js","js/Components/SearchBar/index.js","js/utils/icons.js","js/Components/CurrentWeather/CurrentWeather.js","js/Components/CurrentWeather/index.js","js/Components/WeatherForecast/WeatherForecast.js","js/Components/WeatherForecast/index.js","js/Components/WeatherForecastItem/WeatherForecastItem.js","js/Components/WeatherForecastItem/index.js","js/Components/App/App.js","js/Components/App/index.js","js/index.js"],"names":["ComponentFactory","mappings","register","componentClass","name","get","componentClassName","console","log","parseJsx","string","template","document","createElement","componentCount","idBase","Date","getTime","componentMap","trim","replace","match","p1","p2","offset","id","props","parsingResults","length","paramsRegex","exec","objectPropertyName","split","filter","segment","join","innerHTML","eventTypes","elementsWithListeners","content","querySelectorAll","map","eventType","forEach","element","hasAttribute","handlerName","getAttribute","addEventListener","bind","Object","keys","host","querySelector","cls","parentNode","insertAdjacentHTML","replaceWith","clearDomChildren","domElement","appendDomFragment","domFragment","Array","isArray","append","createDomFragment","buildDomFragment","elements","elementSpec","tag","classList","add","children","appendChild","Component","init","_render","stateDelta","state","assign","rendered","render","_createDomFragment","createDocumentFragment","componentRegex","componentNameRegex","parsingComponentResults","parsingParamsResults","propsName","propsValue","eventTag","WeatherDataService","geocoderBase","forecastBase","currentLocationBase","geocoderKey","forecastKey","corsAnywhere","forecastData","city","latitude","longitude","subscribers","getForwardGeocoding","getData","then","response","getWeatherForecast","results","geometry","lat","lng","subscriber","push","api","fetch","ok","Error","statusText","json","AppState","watchers","entity","watcher","newValue","SearchBar","watch","updateMyself","subState","updateState","e","preventDefault","target","value","setCity","imageUrl","fog","rain","snow","wind","sleet","cloudy","clearDay","clearNight","partlyCloudyDay","partlyCloudyNight","animatedImageUrl","animatedFog","animatedRain","animatedSnow","animatedWind","animatedSleet","animatedCloudy","animatedClearDay","animatedClearNight","animatedPartlyCloudyDay","animatedPartlyCloudyNight","CurrentWeather","onServerResponse","subscribeForCurrentWeather","temperature","icon","windSpeed","humidity","date","getCurrentLocation","weatherData","currently","units","flags","time","toLocaleDateString","month","day","Math","round","WeatherForecast","data","temperatureHigh","temperatureLow","daily","slice","weekday","WeatherForecastItem","App","inputValue","hasError","todayForecast","weekForecast","getGeolocation","getCityForecast","getElementById"],"mappings":"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","file":"js.2f4704d3.js","sourceRoot":"../src","sourcesContent":["const ComponentFactory = {\n  mappings: {},\n  register: componentClass => ComponentFactory.mappings[componentClass.name] = componentClass,\n  get: componentClassName => ComponentFactory.mappings[componentClassName],\n};\nexport default ComponentFactory;\nconsole.log(ComponentFactory);\n/*\n Every component will need:\n  1) import ComponentFactory from \"../framework/ComponentFactory\";\n  2) ComponentFactory.register(ComponentClass); // to register component class with factory\n */\n","import ComponentFactory from '../framework/ComponentFactory';\n\nexport const parseJsx = string => {\n  const template = document.createElement('template');\n  let componentCount = 0;\n  const idBase = new Date().getTime();\n  const componentMap = {};\n\n  string = string.trim().replace(/<([A-Z][A-Za-z]*)(.*)\\/>/g, (match, p1, p2, offset) => {\n    const id = `z${  idBase  }${componentCount++}`;\n\n    // extract props\n    const props = {};\n    let parsingResults;\n    p2 = p2.trim();\n    if (p2.length) {\n      const paramsRegex = /(\\S+)=[\"']?((?:(?!\\/>|>|\"|'|\\s).)+)/g;\n      while ((parsingResults = paramsRegex.exec(p2)) !== null) {\n        const objectPropertyName = parsingResults[2].match(/{(.*)}/);\n        console.log('parce', objectPropertyName);\n        props[parsingResults[1]] = objectPropertyName ?\n          this[objectPropertyName[1].split('.').filter(segment => segment !== 'this').join('.')] :\n          parsingResults[2];\n      }\n    }\n\n    componentMap[id] = {\n      name: p1,\n      props,\n    };\n    return `<div id=\"${id}\"></div>`;\n  });\n  template.innerHTML = string;\n\n  // manage event handlers\n  const eventTypes = ['click', 'Submit'];\n  const elementsWithListeners = template.content.querySelectorAll([eventTypes].map(eventType => `on-${  eventType}`));\n  console.log('elementsWithListeners', elementsWithListeners);\n  elementsWithListeners.forEach(element => {\n    eventTypes.forEach(eventType => {\n      if (element.hasAttribute(`on-${  eventType}`)) {\n        let handlerName = element.getAttribute(`on-${  eventType}`).match(/{(.*)}/)[1];\n        handlerName = handlerName.split('.').filter(segment => segment !== 'this').join('.');\n        element.addEventListener(eventType, this[handlerName].bind(this));\n      }\n    });\n  });\n\n  // render mapped components\n  Object.keys(componentMap).forEach(id => {\n    const host = template.content.querySelector(`#${  id}`);\n    const cls = ComponentFactory.get(componentMap[id].name);\n    new cls(host, componentMap[id].props);\n    console.log(host);\n  });\n  Object.keys(componentMap).forEach(id => {\n    const host = template.content.querySelector(`#${  id}`);\n    host.parentNode.insertAdjacentHTML('beforeend', host.innerHTML);\n    host.replaceWith('');\n  });\n\n  return template.content;\n}\n\nexport const clearDomChildren = domElement => {\n  domElement.innerHTML = '';\n  return domElement;\n};\n\nexport const appendDomFragment = (domElement, domFragment) => {\n  if (Array.isArray(domFragment)) {\n    domElement.append(...domFragment);\n  } else {\n    domElement.append(domFragment);\n  }\n  return domElement;\n};\nexport const createDomFragment = string => {\n  const template = document.createElement('template');\n  template.innerHTML = string.trim();\n  return template.content;\n};\n\nexport const buildDomFragment = (host, elements) => {\n  elements.forEach(elementSpec => {\n    const element = document.createElement(typeof elementSpec.tag === 'string' ? elementSpec.tag : 'div');\n    if (elementSpec.innerHTML) {\n      element.innerHTML = elementSpec.innerHTML;\n    }\n    if (elementSpec.classList) {\n      if (typeof elementSpec.classList === 'string') {\n        elementSpec.classList = elementSpec.classList.split(' ');\n      }\n      element.classList.add(...elementSpec.classList);\n    }\n    if (typeof elementSpec.tag !== 'string') {\n      new elementSpec.tag(element, elementSpec.props);\n    }\n    if (elementSpec.children) {\n      buildDomFragment(element, elementSpec.children);\n    }\n    host.appendChild(element);\n  });\n  return host;\n};\n","import {\n  clearDomChildren,\n  appendDomFragment,\n  createDomFragment,\n  buildDomFragment\n} from '../utils/parser';\nimport ComponentFactory from './ComponentFactory';\n\nexport default class Component {\n  constructor(host, props = {}) {\n    this.host = host;\n    this.props = props;\n    this.init();\n    this._render();\n  }\n\n  init() {}\n\n  updateState(stateDelta) {\n    this.state = Object.assign({}, this.state, stateDelta);\n    console.log('state', this.state);\n    this._render();\n  }\n\n  _render() {\n    let rendered = this.render();\n    if (typeof rendered === 'string') {\n      rendered = this._createDomFragment(rendered);\n    }\n    if (Array.isArray(rendered) && rendered[0].tag) {\n      rendered = buildDomFragment(document.createDocumentFragment(), rendered);\n    }\n    appendDomFragment(clearDomChildren(this.host), rendered);\n  }\n\n  _createDomFragment(string) {\n    const template = document.createElement('template');\n    let componentCount = 0;\n    const idBase = new Date().getTime();\n    const componentMap = {};\n\n    const componentRegex = /<[A-Z][A-Za-z].+?\\/>/g; // <Component/>\n    const componentNameRegex = /<([A-Z][A-Za-z]*)/;\n    const paramsRegex = /(\\S+)=[\"']?((?:(?!\\/>|>|\"|'|\\s).)+)/g; // param=value\n\n    string = string.trim().replace(componentRegex, (parsingComponentResults) => {\n      const id = `z${  idBase  }${componentCount++}`;\n      const name = componentNameRegex.exec(parsingComponentResults)[1];\n      const props = {};\n      let parsingParamsResults;\n      while ((parsingParamsResults = paramsRegex.exec(parsingComponentResults)) !== null) {\n        const [, propsName, propsValue] = parsingParamsResults;\n        const objectPropertyName = propsValue.match(/{(.*)}/);\n        props[propsName] =\n          objectPropertyName ?\n          this[objectPropertyName[1].split('.').filter(segment => segment !== 'this').join('.')] :\n          propsValue;\n      }\n      componentMap[id] = {\n        name,\n        props,\n      };\n      return `<div id=\"${id}\"></div>`;\n    });\n    template.innerHTML = string;\n\n    // manage event handlers\n    const eventTag = [];\n    const eventTypes = ['clicletkas', 'form', 'submit'];\n    const elementsWithListeners = template.content.querySelectorAll([eventTypes].map(eventType => `on-${  eventType}`));\n    elementsWithListeners.forEach(element => {\n      eventTypes.forEach(eventType => {\n        if (element.hasAttribute(`on-${  eventType}`)) {\n          let handlerName = element.getAttribute(`on-${  eventType}`).match(/{(.*)}/)[1];\n          handlerName = handlerName.split('.').filter(segment => segment !== 'this').join('.');\n          if (this[handlerName]) {\n            console.log('element', element, eventType, handlerName);\n            element.addEventListener(eventType, this[handlerName].bind(this));\n          }\n        }\n      });\n    });\n    // render mapped components\n    Object.keys(componentMap).forEach(id => {\n      const host = template.content.querySelector(`#${  id}`);\n      const cls = ComponentFactory.get(componentMap[id].name);\n      new cls(host, componentMap[id].props);\n    });\n\n    return template.content;\n  }\n}\n","class WeatherDataService {\n  constructor() {\n    this.geocoderBase = 'https://api.opencagedata.com/geocode/v1/json?q='\n    this.forecastBase = 'https://api.darksky.net/forecast/';\n    this.currentLocationBase = 'https://ipapi.co/json';\n    this.geocoderKey = '&key=39b7025dc04d4a47a61c8866819b5161';\n    this.forecastKey = 'f5bcd9de3734de86a2d47a58d91793ab/';\n    this.corsAnywhere = 'https://cors-anywhere.herokuapp.com/'\n    this.forecastData = {\n      city: '',\n      latitude: '',\n      longitude: '',\n    };\n    this.subscribers = [];\n  }\n\n  setCity(city = 'Kiev') {\n    this.forecastData.city = city;\n    this.getForwardGeocoding();\n  }\n\n  getCurrentLocation() {\n    this.getData(this.currentLocationBase)\n      .then(response => this.getWeatherForecast(response.latitude, response.longitude));\n  }\n\n  getForwardGeocoding() {\n    return this.getData(`${this.geocoderBase}${this.forecastData.city}${this.geocoderKey}`)\n      .then(response => response.results[0].geometry)\n      .then(response => this.getWeatherForecast(response.lat, response.lng));\n  }\n\n  getWeatherForecast(lat, lng) {\n    return this.getData(`${this.corsAnywhere}${this.forecastBase}${this.forecastKey}${lat},${lng}?units=ca`)\n      .then(response => {\n        this.forecastData = Object.assign({}, this.forecastData, response);\n        this.subscribers.forEach(subscriber => subscriber(this.forecastData));\n      })\n  };\n\n  subscribeForCurrentWeather(subscriber) {\n    this.subscribers.push(subscriber)\n  }\n\n  getData(api) {\n    return fetch(`${api}`).then(response => {\n      if (!response.ok) {\n        throw new Error(response.statusText);\n      }\n      return response.json();\n    });\n  }\n}\n\nexport default new WeatherDataService();\n","class AppState {\n  constructor() {\n    this.watchers = {\n      // 'ENTITY': [ watcher1, watcher2 ],\n    };\n  }\n\n  watch(entity, watcher) {\n    if (this.watchers[entity]) {\n      this.watchers[entity].push(watcher);\n    } else {\n      this.watchers[entity] = [watcher];\n    }\n  }\n\n  update(entity, newValue) {\n    this.watchers[entity] && this.watchers[entity].forEach(watcher => watcher(newValue));\n  }\n}\n\nexport default new AppState();\n","import Component from '../../framework/Component';\nimport ComponentFactory from '../../framework/ComponentFactory';\nimport WeatherDataService from '../../Services/WeatherDataService';\nimport AppState from '../../Services/AppState';\n\n\nexport default class SearchBar extends Component {\n  constructor(host, props) {\n    super(host, props);\n    AppState.watch('CITY', this.updateMyself);\n    // window.addEventListener('submit', this.onSubmit.bind(this));\n  }\n\n  init() {\n    this.state = {};\n  }\n\n  updateMyself(subState) {\n    this.updateState(subState);\n  }\n\n  onSubmit(e) {\n    e.preventDefault();\n    const city = e.target.elements.city.value;\n    if (city) {\n      e.target.elements.city.value = '';\n      WeatherDataService.setCity(city);\n    }\n  }\n\n  render() {\n    return ` <form on-Submit={this.onSubmit}>\n               <input class=\"search__input \" name=\"city\" placeholder=\"city\" type=\"text\" value=\"\" />\n               <button class=\"search__button\" type=\"submit\"/>search</button>\n             </form>`\n  }\n}\n\n//\n\nComponentFactory.register(SearchBar); // to register component class with factory\n","export {\n  default as SearchBar\n}\nfrom './SearchBar';\n","import fog from '../../icons/wi-fog.svg';\nimport rain from '../../icons/wi-rain.svg';\nimport snow from '../../icons/wi-snow.svg';\nimport wind from '../../icons/wi-strong-wind.svg';\nimport sleet from '../../icons/wi-sleet.svg';\nimport cloudy from '../../icons/wi-cloud.svg';\nimport clearDay from '../../icons/wi-day-sunny.svg';\nimport clearNight from '../../icons/wi-night-clear.svg';\nimport partlyCloudyDay from '../../icons/wi-day-cloudy.svg';\nimport partlyCloudyNight from '../../icons/wi-night-alt-cloudy.svg';\n\nimport animatedFog from '../../icons/animated-fog.svg';\nimport animatedRain from '../../icons/animated-rain.svg';\nimport animatedSnow from '../../icons/animated-snow.svg';\nimport animatedWind from '../../icons/animated-wind.svg';\nimport animatedSleet from '../../icons/animated-sleet.svg';\nimport animatedCloudy from '../../icons/animated-cloudy.svg';\nimport animatedClearDay from '../../icons/animated-sunny.svg';\nimport animatedClearNight from '../../icons/animated-clear-night.svg';\nimport animatedPartlyCloudyDay from '../../icons/animated-partly-cloudy-day.svg';\nimport animatedPartlyCloudyNight from '../../icons/animated-partly-cloudy-night.svg';\n\n\nexport const imageUrl = {\n  'fog': fog,\n  'rain': rain,\n  'snow': snow,\n  'wind': wind,\n  'sleet': sleet,\n  'cloudy': cloudy,\n  'clear-day': clearDay,\n  'clear-night': clearNight,\n  'partly-cloudy-day': partlyCloudyDay,\n  'partly-cloudy-night': partlyCloudyNight,\n};\n\nexport const animatedImageUrl = {\n  'fog': animatedFog,\n  'rain': animatedRain,\n  'snow': animatedSnow,\n  'wind': animatedWind,\n  'sleet': animatedSleet,\n  'cloudy': animatedCloudy,\n  'clear-day': animatedClearDay,\n  'clear-night': animatedClearNight,\n  'partly-cloudy-day': animatedPartlyCloudyDay,\n  'partly-cloudy-night': animatedPartlyCloudyNight,\n};\n","import Component from '../../framework/Component';\nimport AppState from '../../Services/AppState';\nimport ComponentFactory from '../../framework/ComponentFactory';\nimport WeatherDataService from '../../Services/WeatherDataService';\nimport {\n  animatedImageUrl\n} from '../../utils/icons';\n\n\nexport default class CurrentWeather extends Component {\n  constructor(host, props) {\n    super(host, props);\n    this.onServerResponse = this.onServerResponse.bind(this);\n    WeatherDataService.subscribeForCurrentWeather(this.onServerResponse);\n  }\n\n  init() {\n    this.state = {\n      temperature: '',\n      icon: '',\n      windSpeed: '',\n      humidity: '',\n      date: '',\n      city: '',\n    };\n    if (this.state.city === '') {\n      WeatherDataService.getCurrentLocation();\n    }\n  }\n\n\n  onServerResponse(weatherData) {\n    const {\n      currently,\n      city\n    } = weatherData;\n    const {\n      units\n    } = weatherData.flags;\n    if (currently) {\n      currently.date = new Date(currently.time * 1000)\n        .toLocaleDateString('en-US', {\n          month: 'long',\n          day: 'numeric'\n        });\n      currently.temperature = Math.round(currently.temperature);\n      currently.city = city;\n      currently.units = units;\n      this.updateState(currently);\n    }\n  }\n\n  render() {\n    return `\n  <div class=\"temp\">\n  ${this.state.temperature}\n  ${(this.state.units='ca')?'<span>C |<a>F</a></span>':'<span>C|<a>F</a></span>'}\n  </div>\n  <div class=\"right\">\n    <div class=\"date\">${this.state.date}</div>\n    <div class=\"summary\">${this.state.city}</div>\n    <div class=\"date\">${this.state.humidity}</div>\n    <div class=\"date\">${this.state.windSpeed}</div>\n  </div>\n  <div class=\"weather-icon\">\n  <img src=\"${animatedImageUrl[this.state.icon]}\" />\n  </div>`\n  }\n}\nComponentFactory.register(CurrentWeather);\n","export {\n  default as CurrentWeather\n}\nfrom './CurrentWeather';\n","import Component from '../../framework/Component';\nimport AppState from '../../Services/AppState';\nimport ComponentFactory from '../../framework/ComponentFactory';\nimport WeatherDataService from '../../Services/WeatherDataService';\nimport imageUrl from '../../utils/icons';\n\n\nexport default class WeatherForecast extends Component {\n  constructor(host, props) {\n    super(host, props);\n    this.onServerResponse = this.onServerResponse.bind(this);\n    WeatherDataService.subscribeForCurrentWeather(this.onServerResponse);\n  }\n\n  init() {\n    this.state = {\n      data: [{\n        temperatureHigh: '',\n        temperatureLow: '',\n        icon: '',\n      }, ]\n    }\n  }\n\n  onServerResponse({\n    daily\n  }) {\n    daily.data = daily.data.slice(1, 6);\n    daily.data.map(day => {\n      day.weekday = new Date(day.time * 1000)\n        .toLocaleDateString('en-US', {\n          weekday: 'short',\n        });\n      day.temperatureHigh = Math.round(day.temperatureHigh);\n      day.temperatureLow = Math.round(day.temperatureLow);\n    });\n    this.updateState(daily);\n  }\n\n  render() {\n    return this.state.data\n      .map(day => `\n      <WeatherForecastItem weekday=${day.weekday} icon=${day.icon} temperatureHigh=${day.temperatureHigh} temperatureLow=${day.temperatureLow}/>`)\n      .join(' ');\n  }\n}\nComponentFactory.register(WeatherForecast);\n","export {\n  default as WeatherForecast\n}\nfrom './WeatherForecast';\n","import Component from '../../framework/Component';\nimport ComponentFactory from '../../framework/ComponentFactory';\nimport {\n  animatedImageUrl\n} from '../../utils/icons';\n\nexport default class WeatherForecastItem extends Component {\n  constructor(host, props) {\n    super(host, props);\n  }\n\n  render() {\n    return `\n    <h4>${this.props.weekday}</h4>\n    <img src=\"${animatedImageUrl[this.props.icon]}\" />\n    <p>${this.props.temperatureHigh}</p>\n    <p>${this.props.temperatureLow}</p>\n  `\n  }\n}\nComponentFactory.register(WeatherForecastItem);\n","export {\n  default as WeatherForecastItem\n}\nfrom './WeatherForecastItem';\n","import Component from '../../framework/Component';\nimport ComponentFactory from '../../framework/ComponentFactory';\nimport {\n  SearchBar\n} from '../SearchBar';\nimport {\n  CurrentWeather\n} from '../CurrentWeather';\nimport {\n  WeatherForecast\n} from '../WeatherForecast';\nimport {\n  WeatherForecastItem\n} from '../WeatherForecastItem';\n\n\nexport default class App extends Component {\n  constructor(host) {\n    super(host);\n  }\n\n  init() {\n    this.updateState = this.updateState.bind(this);\n    this.state = {\n      inputValue: '',\n      hasError: false,\n      todayForecast: null,\n      weekForecast: null,\n    };\n  }\n\n  getWeattherFromGeolocation() {\n    if (!this.state.todayForecast) {\n      WeatherDataService.getGeolocation().then(city =>\n        this.getCityForecast(city),\n      );\n      console.log('geo.loc', city);\n    }\n  }\n\n  render() {\n    return `\n    <nav class=\"search__container\">\n      <SearchBar/>\n    </nav>\n    <div id=\"card\" class=\"weather\">\n      <div class=\"details\">\n        <CurrentWeather/>\n        <div class=\"forcast\">\n          <WeatherForecast/>\n        </div>\n      </div>\n    </div>\n    `;\n  }\n}\n// to register component class with factory\n","export {default as App} from \"./App\";\n","import '../style.scss';\n// import {routes} from './routes/routes';\n// import Router from './framework/Router'\nimport {App} from './Components/App';\n\nnew App(document.getElementById('app'))\n// , routes, App)\n// router.init();\n"]}