{"version":3,"sources":["js/framework/ComponentFactory.js","js/utils/parser.js","js/framework/Component.js","js/Services/AppState.js","js/Components/SearchBar/SearchBar.js","js/Components/SearchBar/index.js","js/Components/CurrentWeather/CurrentWeather.js","js/Components/CurrentWeather/index.js","js/Components/WeatherForecastItem/WeatherForecastItem.js","js/Components/WeatherForecastItem/index.js","js/Components/WeatherForecast/WeatherForecast.js","js/Components/WeatherForecast/index.js","js/Components/App/App.js","js/Components/App/index.js","js/index.js","../node_modules/parcel-bundler/src/builtins/hmr-runtime.js"],"names":["ComponentFactory","mappings","register","componentClass","name","get","componentClassName","parseJsx","string","template","document","createElement","componentCount","idBase","Date","getTime","componentMap","trim","replace","match","p1","p2","offset","id","props","parsingResults","length","paramsRegex","exec","objectPropertyName","console","log","split","filter","segment","join","innerHTML","eventTypes","elementsWithListeners","content","querySelectorAll","map","eventType","forEach","element","hasAttribute","handlerName","getAttribute","addEventListener","bind","Object","keys","host","querySelector","cls","parentNode","insertAdjacentHTML","replaceWith","clearDomChildren","domElement","appendDomFragment","domFragment","Array","isArray","append","buildDomFragment","elements","elementSpec","tag","classList","add","children","appendChild","Component","init","_render","stateDelta","state","assign","rendered","render","_createDomFragment","createDocumentFragment","propValue","AppState","watchers","entity","watcher","push","newValue","SearchBar","watch","updateMyself","onSubmit","value","quantifier","subState","updateState","e","preventDefault","city","target","WeatherForecastItem","WeatherForecast","temperature","unit","App","getCityForecast","inputValue","hasError","todayForecast","weekForecast","WeatherDataService","getGeolocation","then","getElementById","OVERLAY_ID","OldModule","module","bundle","Module","moduleName","call","hot","data","hotData","_acceptCallbacks","_disposeCallbacks","accept","fn","dispose","checkedAssets","assetsToAccept","parent","isParcelRequire","WebSocket","hostname","location","protocol","ws","onmessage","event","JSON","parse","type","handled","assets","asset","isNew","didAccept","hmrAcceptCheck","global","parcelRequire","every","generated","js","clear","hmrApply","v","hmrAcceptRun","window","reload","close","onclose","removeErrorOverlay","error","message","stack","overlay","createErrorOverlay","body","remove","stackTrace","innerText","getParents","modules","parents","k","d","dep","concat","Function","deps","cached","cache","some","cb"],"mappings":"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","file":"js.00a46daa.js","sourceRoot":"../src","sourcesContent":["const ComponentFactory = {\n  mappings: {},\n  register: componentClass => ComponentFactory.mappings[componentClass.name] = componentClass,\n  get: componentClassName => ComponentFactory.mappings[componentClassName],\n};\nexport default ComponentFactory;\n\n/*\n Every component will need:\n  1) import ComponentFactory from \"../framework/ComponentFactory\";\n  2) ComponentFactory.register(ComponentClass); // to register component class with factory\n */\n","import ComponentFactory from '../framework/ComponentFactory';\n\nexport const parseJsx = string => {\n  const template = document.createElement('template');\n  let componentCount = 0;\n  const idBase = new Date().getTime();\n  const componentMap = {};\n\n  string = string.trim().replace(/<([A-Z][A-Za-z]*)(.*)\\/>/g, (match, p1, p2, offset) => {\n    const id = `z${  idBase  }${componentCount++}`;\n\n    // extract props\n    const props = {};\n    let parsingResults;\n    p2 = p2.trim();\n    if (p2.length) {\n      const paramsRegex = /(\\S+)=[\"']?((?:(?!\\/>|>|\"|'|\\s).)+)/g;\n      while ((parsingResults = paramsRegex.exec(p2)) !== null) {\n        const objectPropertyName = parsingResults[2].match(/{(.*)}/);\n        console.log('parce', objectPropertyName);\n        props[parsingResults[1]] = objectPropertyName ?\n          this[objectPropertyName[1].split('.').filter(segment => segment !== 'this').join('.')] :\n          parsingResults[2];\n      }\n    }\n\n    componentMap[id] = {\n      name: p1,\n      props,\n    };\n    return `<div id=\"${id}\"></div>`;\n  });\n  template.innerHTML = string;\n\n  // manage event handlers\n  const eventTypes = ['click', 'Submit'];\n  const elementsWithListeners = template.content.querySelectorAll([eventTypes].map(eventType => `on-${  eventType}`));\n  console.log('elementsWithListeners', elementsWithListeners);\n  elementsWithListeners.forEach(element => {\n    eventTypes.forEach(eventType => {\n      if (element.hasAttribute(`on-${  eventType}`)) {\n        let handlerName = element.getAttribute(`on-${  eventType}`).match(/{(.*)}/)[1];\n        handlerName = handlerName.split('.').filter(segment => segment !== 'this').join('.');\n        element.addEventListener(eventType, this[handlerName].bind(this));\n      }\n    });\n  });\n\n  // render mapped components\n  Object.keys(componentMap).forEach(id => {\n    const host = template.content.querySelector(`#${  id}`);\n    const cls = ComponentFactory.get(componentMap[id].name);\n    new cls(host, componentMap[id].props);\n    console.log(host);\n  });\n  Object.keys(componentMap).forEach(id => {\n    const host = template.content.querySelector(`#${  id}`);\n    host.parentNode.insertAdjacentHTML('beforeend', host.innerHTML);\n    host.replaceWith('');\n  });\n\n  return template.content;\n}\n\nexport const clearDomChildren = domElement => {\n  domElement.innerHTML = '';\n  return domElement;\n};\n\nexport const appendDomFragment = (domElement, domFragment) => {\n  if (Array.isArray(domFragment)) {\n    domElement.append(...domFragment);\n  } else {\n    domElement.append(domFragment);\n  }\n  return domElement;\n};\n\nexport const buildDomFragment = (host, elements) => {\n  elements.forEach(elementSpec => {\n    const element = document.createElement(typeof elementSpec.tag === 'string' ? elementSpec.tag : 'div');\n    if (elementSpec.innerHTML) {\n      element.innerHTML = elementSpec.innerHTML;\n    }\n    if (elementSpec.classList) {\n      if (typeof elementSpec.classList === 'string') {\n        elementSpec.classList = elementSpec.classList.split(' ');\n      }\n      element.classList.add(...elementSpec.classList);\n    }\n    if (typeof elementSpec.tag !== 'string') {\n      new elementSpec.tag(element, elementSpec.props);\n    }\n    if (elementSpec.children) {\n      buildDomFragment(element, elementSpec.children);\n    }\n    host.appendChild(element);\n  });\n  return host;\n};\n","import {parseJsx,\n  clearDomChildren,\n  appendDomFragment,\n  buildDomFragment} from '../utils/parser';\nimport ComponentFactory from './ComponentFactory';\n\nexport default class Component {\n  constructor(host, props = {}) {\n    this.host = host;\n    this.props = props;\n    this.init();\n    this._render();\n  }\n\n  init() {}\n\n  updateState(stateDelta) {\n    this.state = Object.assign({}, this.state, stateDelta);\n    this._render();\n  }\n\n  _render() {\n    let rendered = this.render();\n    if (typeof rendered === 'string') {\n      rendered = this._createDomFragment(rendered);\n    }\n    if (Array.isArray(rendered) && rendered[0].tag) {\n      rendered = buildDomFragment(document.createDocumentFragment(), rendered);\n    }\n    appendDomFragment(clearDomChildren(this.host), rendered);\n  }\n\n  _createDomFragment(string) {\n    const template = document.createElement('template');\n\n    let componentCount = 0;\n    const idBase = new Date().getTime();\n    const componentMap = {};\n\n    string = string.trim().replace(/<([A-Z][A-Za-z]*)(.*)\\/>/g, (match, p1, p2, offset) => {\n      const id = `z${  idBase  }${componentCount++}`;\n      debugger\n      // extract props\n      const props = {};\n      let parsingResults;\n      p2 = p2.trim();\n      if (p2.length) {\n        const paramsRegex = /(\\S+)=[\"']?((?:(?!\\/>|>|\"|'|\\s).)+)/g;\n        while ((parsingResults = paramsRegex.exec(p2)) !== null) {\n          const objectPropertyName = parsingResults[2].match(/{(.*)}/);\n          const propValue = objectPropertyName ?\n            this[objectPropertyName[1].split('.').filter(segment => segment !== 'this').join('.')] :\n            parsingResults[2];\n          props[parsingResults[1]] = propValue;\n        }\n      }\n\n      componentMap[id] = {\n        name: p1,\n        props,\n      };\n      return `<div id=\"${id}\"></div>`;\n    });\n    template.innerHTML = string;\n\n    console.log('string', string);\n\n    // manage event handlers\n    const eventTypes = ['click', 'mouseup', 'mousedown', 'mouseover', 'mousein', 'mouseout',\n      'change', 'input', 'keyup', 'keydown',\n      'focus', 'blur', 'submit', 'form'\n    ];\n    const elementsWithListeners = template.content.querySelectorAll([eventTypes].map(eventType => `on-${eventType}`));\n    elementsWithListeners.forEach(element => {\n      eventTypes.forEach(eventType => {\n        if (element.hasAttribute(`on-${  eventType}`)) {\n          let handlerName = element.getAttribute(`on-${  eventType}`).match(/{(.*)}/)[1];\n          handlerName = handlerName.split('.').filter(segment => segment !== 'this').join('.');\n          element.addEventListener(eventType, this[handlerName].bind(this));\n        }\n      });\n    });\n\n    // render mapped components\n    Object.keys(componentMap).forEach(id => {\n      const host = template.content.querySelector(`#${  id}`);\n      const cls = ComponentFactory.get(componentMap[id].name);\n      new cls(host, componentMap[id].props);\n      // host.outerHTML = host.innerHTML;\n    });\n\n    return template.content;\n  }\n}\n","class AppState {\n  constructor() {\n    this.watchers = {\n      // 'ENTITY': [ watcher1, watcher2 ],\n    };\n  }\n\n  watch(entity, watcher) {\n    if (this.watchers[entity]) {\n      this.watchers[entity].push(watcher);\n    } else {\n      this.watchers[entity] = [watcher];\n    }\n  }\n\n  update(entity, newValue) {\n    this.watchers[entity] && this.watchers[entity].forEach(watcher => watcher(newValue));\n  }\n}\n\nexport default new AppState();\n","import Component from '../../framework/Component';\nimport AppState from '../../Services/AppState';\nimport ComponentFactory from '../../framework/ComponentFactory';\n\nexport default class SearchBar extends Component {\n  constructor(host, props) {\n    super(host, props);\n    AppState.watch('COUNT', this.updateMyself);\n  }\n\n  init() {\n    this.onSubmit = this.onSubmit.bind(this);\n    this.state = {\n      value: this.props.value * 2,\n      quantifier: 7,\n    };\n  }\n\n  updateMyself(subState) {\n    // .... transform response\n    console.log('PNumber in CountControls', subState);\n    // do update\n    this.updateState(subState);\n  }\n\n  onSubmit(e) {\n    console.log('onSubmit run');\n    e.preventDefault();\n    const city = e.target.elements.city.value;\n    this.props.onSubmit(city);\n  }\n\n  render() {\n    return ` <form on-Submit={this.onSubmit}>\n               <input class=\"search__input \" name=\"city\" placeholder=\"city\" type=\"text\" value=\"\" />\n               <button class=\"search__button\" type=\"submit\" on-Click={this.onSubmit} />search</button>\n             </form>`\n  }\n}\n\n//\n\nComponentFactory.register(SearchBar); // to register component class with factory\n","export {\n  default as SearchBar\n}\nfrom './SearchBar';\n","// // clear sky\n// // import star from '../../../animated/day.svg';\n\n// // import Component from '../../framework/Component';\n// // import 01n from '../../../animated/night.svg';\n// // //few clouds\n// // import 02d from \"../../../animated/day.svg\";\n// // import 02n from './';\n// // //scattered clouds\n// // import 03d from \"../../../animated/day.svg\";\n// // import 03n from './';\n// // //broken clouds\n// // import 04d from \"../../../animated/day.svg\";\n// // import 04n from './';\n// // //shower rain\n// // import 09d from \"../../../animated/day.svg\";\n// // import 09n from './';\n// // //rain\n// // import 10d from \"../../../animated/day.svg\";\n// // import 10n from './';\n// // //thunderstorm\n// // import 11d from \"../../../animated/day.svg\";\n// // import 11n from './';\n// // //snow\n// // import 13d from \"../../../animated/day.svg\";\n// // import 13n from './';\n// // //mist\n// // import 50d from \"../../../animated/day.svg\";\n// // import 50n from './';\n// // import WeatherDataService from '../../../Services/WeatherDataService'\n\n// export default class CurrentWeather extends Component {\n//   constructor(host, props) {\n//     super(host, props);\n//     // WeatherDataService.subscribeForCurrentWeather(this.onServerResponse);\n//   }\n\n//   // onServerResponse(weatherData) {\n//   //   // ensure weatherData is properly rendered\n//   //   // this.props.weather = weatherData;\n//   //   // console.log('CurrentWeather', this.props.weather.main.temp);\n//   //\n\n//   render() {\n//     return [{\n//         tag: 'div',\n//         classList: ['temp'],\n//         content: Math.round(this.props.forcast ? this.props.forcast.main.temp : null),\n//       },\n//       {\n//         tag: 'div',\n//         classList: ['right'],\n//         children: [{\n//             tag: 'div',\n//             classList: ['summary'],\n//             content: this.props.forcast ? this.props.forcast.name : null,\n//           },\n//           {\n//             tag: 'div',\n//             classList: ['date'],\n//             content: `${this.props.forcast ?this.props.forcast.wind.speed:null}km/h`,\n//           },\n//           {\n//             tag: 'div',\n//             classList: ['date'],\n//             content: `${this.props.forcast ?this.props.forcast.main.humidity:null}%`,\n//           },\n//         ],\n//       },\n//       {\n//         tag: 'div',\n//         classList: ['weather-icon'],\n//         content: `<img src=\"${img['01n']}\" />`,\n//       },\n//     ];\n//   }\n// }\n","export {\n  default as CurrentWeather\n}\nfrom './CurrentWeather';\n","import Component from '../../framework/Component.js';\n\nexport default class WeatherForecastItem extends Component {\n  constructor(host, props) {\n    super(host, props);\n  }\n\n  render() {\n    return [{\n      tag: 'li',\n      children: [{\n          tag: 'h4',\n          content: 'mon'\n        },\n        {\n          tag: 'i',\n          content: 'rain'\n        },\n        {\n          tag: 'p',\n          content: '22'\n        },\n        {\n          tag: 'p',\n          content: '12'\n        },\n      ],\n    }];\n  }\n}\n","export {\n  default as WeatherForecastItem\n}\nfrom './WeatherForecastItem';\n","import Component from '../../framework/Component.js';\n\nimport {WeatherForecastItem} from '../WeatherForecastItem';\n\nexport default class WeatherForecast extends Component {\n  constructor(host, props) {\n    super(host, props);\n  }\n\n  render() {\n    return [{\n      tag: 'div',\n      classList: ['forcast'],\n      children: [{\n        tag: 'ul',\n        children: [{\n            tag: WeatherForecastItem,\n            props: {\n              temperature: 18,\n              unit: 'C',\n            },\n          },\n          {\n            tag: WeatherForecastItem,\n            props: {\n              temperature: 18,\n              unit: 'C',\n            },\n          },\n          {\n            tag: WeatherForecastItem,\n            props: {\n              temperature: 18,\n              unit: 'C',\n            },\n          },\n          {\n            tag: WeatherForecastItem,\n            props: {\n              temperature: 18,\n              unit: 'C',\n            },\n          },\n        ],\n      }, ],\n    }, ]\n  }\n}\n","export {\n  default as WeatherForecast\n}\nfrom './WeatherForecast';\n","import Component from '../../framework/Component';\nimport ComponentFactory from '../../framework/ComponentFactory';\nimport {SearchBar} from '../SearchBar';\nimport {CurrentWeather} from '../CurrentWeather';\nimport {WeatherForecast} from '../WeatherForecast';\n// import WeatherDataService from '../../../Services/WeatherDataService';\n\nexport default class App extends Component {\n  constructor(host) {\n    super(host);\n  }\n\n  init() {\n    this.getCityForecast = this.getCityForecast.bind(this);\n    this.updateState = this.updateState.bind(this);\n    this.state = {\n      inputValue: '',\n      hasError: false,\n      todayForecast: null,\n      weekForecast: null,\n    };\n  }\n\n  getWeattherFromGeolocation() {\n    if (!this.state.todayForecast) {\n      WeatherDataService.getGeolocation().then(city => this.getCityForecast(city));\n      console.log('geo.loc', city)\n    }\n  }\n\n  getCityForecast(city) {\n    console.log('fgfh');\n    // this.state.inputValue = city;\n    // WeatherDataService.getForecast(city).then(([today, week]) => {\n    //   return {\n    //     todayForecast: today,\n    //     weekForecast: week\n    //   }\n    // }).then(this.updateState)\n  }\n\n  render() {\n    const {\n      todayForecast,\n      weekForecast\n    } = this.state;\n    return '<nav class=\"search__container\"><div><SearchBar onSubmit={this.getCityForecast}/></div><div><SearchBar onSubmit={this.getCityForecast}/></div></nav>'\n  }\n}\nComponentFactory.register(SearchBar); // to register component class with factory\n","export {default as App} from \"./App\";\n","// import {routes} from './routes/routes';\n// import Router from './framework/Router'\nimport {App} from './Components/App';\n\nnew App(document.getElementById('app'))\n// , routes, App)\n// router.init();\n","var OVERLAY_ID = '__parcel__error__overlay__';\n\nvar OldModule = module.bundle.Module;\n\nfunction Module(moduleName) {\n  OldModule.call(this, moduleName);\n  this.hot = {\n    data: module.bundle.hotData,\n    _acceptCallbacks: [],\n    _disposeCallbacks: [],\n    accept: function (fn) {\n      this._acceptCallbacks.push(fn || function () {});\n    },\n    dispose: function (fn) {\n      this._disposeCallbacks.push(fn);\n    }\n  };\n\n  module.bundle.hotData = null;\n}\n\nmodule.bundle.Module = Module;\nvar checkedAssets, assetsToAccept;\n\nvar parent = module.bundle.parent;\nif ((!parent || !parent.isParcelRequire) && typeof WebSocket !== 'undefined') {\n  var hostname = process.env.HMR_HOSTNAME || location.hostname;\n  var protocol = location.protocol === 'https:' ? 'wss' : 'ws';\n  var ws = new WebSocket(protocol + '://' + hostname + ':' + process.env.HMR_PORT + '/');\n  ws.onmessage = function(event) {\n    checkedAssets = {};\n    assetsToAccept = [];\n\n    var data = JSON.parse(event.data);\n\n    if (data.type === 'update') {\n      var handled = false;\n      data.assets.forEach(function(asset) {\n        if (!asset.isNew) {\n          var didAccept = hmrAcceptCheck(global.parcelRequire, asset.id);\n          if (didAccept) {\n            handled = true;\n          }\n        }\n      });\n\n      // Enable HMR for CSS by default.\n      handled = handled || data.assets.every(function(asset) {\n        return asset.type === 'css' && asset.generated.js;\n      });\n\n      if (handled) {\n        console.clear();\n\n        data.assets.forEach(function (asset) {\n          hmrApply(global.parcelRequire, asset);\n        });\n\n        assetsToAccept.forEach(function (v) {\n          hmrAcceptRun(v[0], v[1]);\n        });\n      } else {\n        window.location.reload();\n      }\n    }\n\n    if (data.type === 'reload') {\n      ws.close();\n      ws.onclose = function () {\n        location.reload();\n      }\n    }\n\n    if (data.type === 'error-resolved') {\n      console.log('[parcel] ✨ Error resolved');\n\n      removeErrorOverlay();\n    }\n\n    if (data.type === 'error') {\n      console.error('[parcel] 🚨  ' + data.error.message + '\\n' + data.error.stack);\n\n      removeErrorOverlay();\n\n      var overlay = createErrorOverlay(data);\n      document.body.appendChild(overlay);\n    }\n  };\n}\n\nfunction removeErrorOverlay() {\n  var overlay = document.getElementById(OVERLAY_ID);\n  if (overlay) {\n    overlay.remove();\n  }\n}\n\nfunction createErrorOverlay(data) {\n  var overlay = document.createElement('div');\n  overlay.id = OVERLAY_ID;\n\n  // html encode message and stack trace\n  var message = document.createElement('div');\n  var stackTrace = document.createElement('pre');\n  message.innerText = data.error.message;\n  stackTrace.innerText = data.error.stack;\n\n  overlay.innerHTML = (\n    '<div style=\"background: black; font-size: 16px; color: white; position: fixed; height: 100%; width: 100%; top: 0px; left: 0px; padding: 30px; opacity: 0.85; font-family: Menlo, Consolas, monospace; z-index: 9999;\">' +\n      '<span style=\"background: red; padding: 2px 4px; border-radius: 2px;\">ERROR</span>' +\n      '<span style=\"top: 2px; margin-left: 5px; position: relative;\">🚨</span>' +\n      '<div style=\"font-size: 18px; font-weight: bold; margin-top: 20px;\">' + message.innerHTML + '</div>' +\n      '<pre>' + stackTrace.innerHTML + '</pre>' +\n    '</div>'\n  );\n\n  return overlay;\n\n}\n\nfunction getParents(bundle, id) {\n  var modules = bundle.modules;\n  if (!modules) {\n    return [];\n  }\n\n  var parents = [];\n  var k, d, dep;\n\n  for (k in modules) {\n    for (d in modules[k][1]) {\n      dep = modules[k][1][d];\n      if (dep === id || (Array.isArray(dep) && dep[dep.length - 1] === id)) {\n        parents.push(k);\n      }\n    }\n  }\n\n  if (bundle.parent) {\n    parents = parents.concat(getParents(bundle.parent, id));\n  }\n\n  return parents;\n}\n\nfunction hmrApply(bundle, asset) {\n  var modules = bundle.modules;\n  if (!modules) {\n    return;\n  }\n\n  if (modules[asset.id] || !bundle.parent) {\n    var fn = new Function('require', 'module', 'exports', asset.generated.js);\n    asset.isNew = !modules[asset.id];\n    modules[asset.id] = [fn, asset.deps];\n  } else if (bundle.parent) {\n    hmrApply(bundle.parent, asset);\n  }\n}\n\nfunction hmrAcceptCheck(bundle, id) {\n  var modules = bundle.modules;\n  if (!modules) {\n    return;\n  }\n\n  if (!modules[id] && bundle.parent) {\n    return hmrAcceptCheck(bundle.parent, id);\n  }\n\n  if (checkedAssets[id]) {\n    return;\n  }\n  checkedAssets[id] = true;\n\n  var cached = bundle.cache[id];\n\n  assetsToAccept.push([bundle, id]);\n\n  if (cached && cached.hot && cached.hot._acceptCallbacks.length) {\n    return true;\n  }\n\n  return getParents(global.parcelRequire, id).some(function (id) {\n    return hmrAcceptCheck(global.parcelRequire, id)\n  });\n}\n\nfunction hmrAcceptRun(bundle, id) {\n  var cached = bundle.cache[id];\n  bundle.hotData = {};\n  if (cached) {\n    cached.hot.data = bundle.hotData;\n  }\n\n  if (cached && cached.hot && cached.hot._disposeCallbacks.length) {\n    cached.hot._disposeCallbacks.forEach(function (cb) {\n      cb(bundle.hotData);\n    });\n  }\n\n  delete bundle.cache[id];\n  bundle(id);\n\n  cached = bundle.cache[id];\n  if (cached && cached.hot && cached.hot._acceptCallbacks.length) {\n    cached.hot._acceptCallbacks.forEach(function (cb) {\n      cb();\n    });\n    return true;\n  }\n}\n"]}