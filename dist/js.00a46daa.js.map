{"version":3,"sources":["js/framework/ComponentFactory.js","js/utils/parser.js","js/framework/Component.js","js/Services/WeatherDataService.js","js/Services/AppState.js","js/Components/SearchBar/SearchBar.js","js/Components/SearchBar/index.js","js/utils/icons.js","js/Components/CurrentWeather/CurrentWeather.js","js/Components/CurrentWeather/index.js","js/Components/WeatherForecast/WeatherForecast.js","js/Components/WeatherForecast/index.js","js/Components/WeatherForecastItem/WeatherForecastItem.js","js/Components/WeatherForecastItem/index.js","js/Components/App/App.js","js/Components/App/index.js","js/index.js","../node_modules/parcel-bundler/src/builtins/bundle-url.js","../node_modules/parcel-bundler/src/builtins/css-loader.js"],"names":["ComponentFactory","mappings","register","componentClass","name","get","componentClassName","console","log","parseJsx","string","template","document","createElement","componentCount","idBase","Date","getTime","componentMap","trim","replace","match","p1","p2","offset","id","props","parsingResults","length","paramsRegex","exec","objectPropertyName","split","filter","segment","join","innerHTML","eventTypes","elementsWithListeners","content","querySelectorAll","map","eventType","forEach","element","hasAttribute","handlerName","getAttribute","addEventListener","bind","Object","keys","host","querySelector","cls","parentNode","insertAdjacentHTML","replaceWith","clearDomChildren","domElement","appendDomFragment","domFragment","Array","isArray","append","createDomFragment","buildDomFragment","elements","elementSpec","tag","classList","add","children","appendChild","Component","init","_render","stateDelta","state","assign","rendered","render","_createDomFragment","createDocumentFragment","componentRegex","componentNameRegex","parsingComponentResults","parsingParamsResults","propsName","propsValue","eventTag","WeatherDataService","geocoderBase","forecastBase","currentLocationBase","geocoderKey","forecastKey","corsAnywhere","forecastData","subscribers","getData","then","response","city","results","geometry","getWeatherForecast","lat","lng","subscriber","push","api","fetch","ok","Error","statusText","json","AppState","watchers","entity","watcher","newValue","SearchBar","watch","updateMyself","value","quantifier","subState","updateState","e","preventDefault","target","forwardGeocoding","imageUrl","fog","rain","snow","wind","sleet","cloudy","clearDay","clearNight","partlyCloudyDay","partlyCloudyNight","CurrentWeather","onServerResponse","subscribeForCurrentWeather","temperature","icon","windSpeed","humidity","date","weatherData","currently","units","flags","time","toLocaleDateString","month","day","Math","round","WeatherForecast","data","temperatureHigh","temperatureLow","daily","weekday","WeatherForecastItem","App","inputValue","hasError","todayForecast","weekForecast","getGeolocation","getCityForecast","getElementById","bundleURL","getBundleURLCached","getBundleURL","err","matches","stack","getBaseURL","url","exports","bundle","require","updateLink","link","newLink","cloneNode","onload","remove","href","now","insertBefore","nextSibling","cssTimeout","reloadCSS","setTimeout","links","i","module"],"mappings":"AiBAA,ACAA,IDAIiL,ACAAS,MAAM,GDAG,ACAAC,GDAG,IAAhB,ACAoB,CAAC,cAAD,CAApB;;ADCA,ACCA,AFFA,SCCST,ACCAU,UAAT,CAAoBC,IAApB,EAA0B,CDD1B,GAA8B;AAC5B,ACCA,MDDI,ACCAC,CDDCb,MCCM,GDDX,ACCcY,EDDE,ECCE,CAACE,SAAL,EAAd;ADAEd,ADAJ,ICAIA,SAAS,GAAGE,YAAY,EAAxB;AACD,ACADW,EAAAA,OAAO,CAACE,MAAR,GAAiB,YAAY;AAC3BH,AlBLJ,AgBCA,IEIIA,AlBLE7L,IkBKE,CAACiM,MAAL,KlBLkB,GAAG;AiBMvB,ACAC,AJNH,ANAA,AHAA,AKAA,AEAA,AVAA,AFCEhM,AgBCF,ATFA,ANAA,EDCEA,CkBGA,MDEOgL,CjBLC,EAAE,EADa,IiBMvB;AACD,AjBLC/K,AgBGF,EhBHEA,EgBGEuK,MhBHM,EAAE,AgBGZ,CAAQ7J,QAAQ,CAACoK,QhBHL7K,MgBGJ,CAAwB,KAAxB,CAAR,ChBH0B,EgBI1B;AECE2L,AJNF,ANAA,AHAA,AKAA,AEAA,AVGA,AFF0B,AgBK1B,ATNA,EWMEA,OAAO,CAACI,ClBLoBlM,GkBK5B,GAAe6L,IAAI,CAACK,IAAL,CAAUlK,AlBLmB,CAAC/B,IkBK9B,CAAgB,GAAhB,AlBLa,CAA0BE,CkBKlB,CAArB,IAA0B,GAA1B,GAAgCa,ElBLqB,CAACZ,CkBKlB,CAAC+L,ElBLxB,CkBKmB,EAA/C,ClBL6EhM,cAArD;AiBO1B,ACDE0L,AlBNwB,EkBMxBA,ClBRuB,GkBQnB,CAACtI,EDCE4H,QCDP,CAAgBiB,GDClB,GAAwB,MCDtB,CAA6BN,OAA7B,EAAsCD,IAAI,CAACQ,WAA3C;ADEA,ACDD,AJPD,ANAA,AHAA,AKAA,AEAA,AZCEhM,AODF,EPCEA,GAAG,EAAE,aAAAC,kBAAkB;AiBQvB,AFXF,ANAA,AHAA,AKAA,AEAA,AbGyB,MiBQnB,KjBRuBN,gBAAgB,CAACC,QAAjB,CAA0BK,kBAA1B,CAAJ;AiBSrB,ACDJ,AJNA,ANFA,AHAA,AKAA,AVAyB,AOAzB,IWQIgM,AdXEjF,ADAA1B,McYI,IAAIuB,ACDA,GAAG,EDCP,EAAN,ACDJ;ADEG,AjBbsB,CAAzB,EiBWE,CAEE,OAAOkE,GAAP,EAAY;AACZ,ACFJ,AJJA,ANJA,AEAA,AHAA,QUUQC,CCFCkB,MDEM,AjBTAvM,GiBSG,ACFlB,CDEmB,ECFE,GDEGoL,GAAG,CAACE,KAAV,EAAiBjK,KAAjB,CAAuB,+DAAvB,CAAd;ACDF,AdZA,ADAA,MeYIiL,UAAJ,EAAgB,IdZF,UDAA;AccZ,ACDA,AJHJ,AVVgB,ADAA,AHKhB/L,AODA,OPCO,CiBSC8K,AjBTA7K,GAAR,CAAYR,GiBSR,EAAa,WjBTjB;AiBUM,ACDH,AlBRH,aiBSauL,UAAU,CAACF,OAAO,CAAC,CAAD,CAAR,CAAjB;AACD,AbfD,ADAA,AIIJ,SHJS/D,ADAA1B,QCAL,GAAgB,CACd,ADDF,GAAoB,iDAApB;AcgBD,ACDD0G,AdfkB,ADChB,EecFA,GdfE,IDCKzG,GecG,GAAG2G,MfdX,GAAoB,CecC,CAAC,YAAY,qBfdlC;AeeA,AdbD,ADDC,AIGJ,ANLO,IAAM/L,IiBgBLgM,CfdC3G,GFFY,CiBgBR,EjBhBW,CiBgBRlF,QAAQ,AjBhBXH,CiBgBY+B,GfdrB,GAA2B,CFFP,CAAA9B,MAAM,EiBgBd,AjBhBkB,CiBgBQ,YfdtC,YecY,CAAZ;ADEF,AdfE,AFFF,MAAMC,GgBiBC,AdfAoF,GceP,EhBjBc,GAAGnF,GEEf,GAAmB,EFFI,CAACC,aAAT,CAAuB,UAAvB,CAAjB,WEEE;AcgBH,ACFG,AfbA,AIEJ,ANJE,MAAIC,GiBeG,AfbAkF,IeaI0G,CAAC,GAAG,CAAb,EAAgBA,AfbhB,AFFgB,CiBeC,EfbE,AFFA,CiBeCD,AjBftB,KiBe2B,CAAC7K,MAA1B,EAAkC8K,CAAC,EAAnC,EAAuC,efbvC;AecE,AfbF,AFFF,MAAM3L,GEECkF,CeaCyF,EjBfI,GAAG,CiBeD,CAACH,EjBfIvK,EEEjB,EFFa,CEEO,EFFIC,CiBelB,CAAkBwL,KAAK,AjBfhB,CiBeiBC,CAAD,AjBf/B,CiBe0B,CAASR,IAA3B,MAAqCR,MAAM,CAACP,QfblD,Iea2C,EAAzC,EAAgE;ADGtE,ACFQS,AfbJ,AICJ,ANHE,MAAM1K,EiBeA0K,CDECL,AdfArF,SeaS,AjBfE,CgBiBpB,ACFmBuG,CDECjB,CdfhB,AFFmB,EgBiBvB,AhBjBE,CiBesB,AfbA,CceC,ACFAkB,CAAD,AddhBnF,ADCJ,Ceac,CAAV,MddQC,SAAS;AaiBvB,ACFK,AddH,ADCA,AFDF9G,EAAAA,MAAM,CgBgBC,AdfAyF,CceC,AbhBF,CHAGzF,IgBgBI8K,AbhBFlE,EHAI,CgBgBR,AhBhBSnG,EgBgBEC,AdfhB,EFDO,CGAH,ADCe,CCDDmG,CDClB,AFDqBnG,EgBgBhB,CAAmB,EbhBpB,CAAJ,CHAO,CGAoB,AHAE,2BAAtB,EAAmD,UAACC,KAAD,EAAQC,EAAR,EAAYC,EAAZ,EAAgBC,MAAhB,EAA2B,GgBgBhF,EAA2F,IAA3F,IAAmG,GAA1G;AACD,ACFI,AddC,ADCH,AFDC,ICHiBkD,IDGXjD,EAAE,GGAD6F,QAAL,CAAcC,EHACxG,IGAf,EAAsB+F,AHAhB,IGAN,CAA2BU,IHAD1G,GGA1B,WHAwC,EAAlC,CAAR,CADqF,CAGrF;AGDC,OAFD,MAEO;AaiBX2K,ACFIa,AddE,AGAN,ANCI,IiBaAA,AXdEjE,GUgBC,CAAC8C,AhBfEzJ,IMDI,CHAH4F,AHCI,CiBaD,CXdG,CNCC,CiBaD,CjBbb,EgBeJ,CCFI,AddE,CAAcC,CagBG2D,KbhBjB,IAAwB,CAAC1D,OAAD,CagB9B,AbhBM;AaiBNiE,ACFG,AddE,AFLH,AKKA,ANCE,GiBIqB,EASpB,EDEE,ACXkB,CDWjBF,ACXN,AjBJM5J,CMDC2G,SUgBT,GAAqBiD,AfrBPnI,CDMV,CMFa,ELJf,EAA8B,IeqBhC;ACDC,AddE,AFN6B,AKM9B,ANCE7B,IAAAA,EAAE,ECPcG,CDOXH,CMDCgH,CNCC,CAACpH,CCPoB,GDOvB,EAAL,OMHa,gBJEM,2CDNK,EAAI;ACO5B,AIAF,UAAQqH,GJAC,KAAKpC,MIHC,CJGN,CAAa,KAAKN,mBAAlB,EAAuCO,IAAvC,CAA4C,UAAAC,QAAQ;Aee/DqG,Aff+D,ADP/B,AKQ9B,ANAE,IWXiBnC,EMyBf,CAACiB,CjBdClK,EMAEkH,ANAA,CAAC7G,GiBcX,CffmE0E,EeelDiG,AjBdb,EAAe,IEDwD,CAAChG,Eee5E,AXlBiB,EJG8C;AAAA,AIE7D,ANAI,OEFK,CAAP,EFEQ1E,CMAD6G,UNAY,GAAG,EMLT,CHIRnB,QAAQE,UAAU,iBHCrB;AGAF,ADDD,ADPC,AKSF,IFXmBC,EFWnB,GDTOtE,EEQAkE,CGCGqB,CLTR,GAAYvF,GEQZ,CAAcmE,AFRd,MEQA,CGLa,IHKY,KAAKD,QAAL,CAAcC,MAAd,EAAsB5E,OAAtB,CAA8B,UAAA6E,OAAO;AAAA,AFP9D,AKSF,ANDI,SCRG9F,IDQI,CCRT,ADQUC,CGDwD6F,AGEvDoB,ELTElH,KEO4D,AFPzE,CEO0E+F,IGL7D,CNMW,GGDiD,AHC9C5F,CGDmC,UHCxB,CAACC,IAAZ,CAAiBP,EAAjB,CAAlB,MAA4C,IAAnD,EAAyD;AGDG,AFN9D,AKSF,ANDM,IOXayH,AEDAkB,GNUQ,CAAzB,CFNKvF,GDQK5C,CCRV,IKSa8G,aNDe,CMPf,ENOkBlH,cAAc,CAAC,CAAD,CAAd,CAAkBN,KAAlB,CAAwB,QAAxB,CAA3B;AWbN,ARYC,AGGD,ANDMd,QAAAA,OAAO,CAACC,GAAR,CAAY,GMCGsI,INDf,EAAqB/G,EWdfqB,IAAZ,EAAkB1B,ILMH,CKNf,EAAyB,GXcnB;AWdmB,AVMvB,AKUF,ANDMA,IaJa+I,IbIb/I,CCTCkD,IDSI,CAACjD,ECTV,SKUqBoH,GNDG,CAAC,CAAD,CAAf,CAAL,GAA2BhH,IEFD,cFEmB,GAC3C,KAAI,CAACA,kBAAkB,CAAC,CAAD,CAAlB,CAAsBC,KAAtB,CAA4B,GAA5B,EAAiCC,MAAjC,CAAwC,UAAAC,OAAO;AId5D,AFWgC,ADN/B,AKDc,ANU6C,CMV9D,gBNUkEA,IIdpDkB,GJc2D,CIdvE,EAAkB1B,EJc0D,GId5E,EAAyB,CJcmC;AIdnC,AOFA,AXgBmC,SAA/C,EAAuES,IMGvEkG,ANHA,CAA4E,GAA5E,CAAD,CADuC,GAE3C1G,CMGV,aNHwB,CAAC,CAAD,CAFhB,mDWdEyB,IADiB,EACX1B,KADW;AJGzB,AEDA,AEAC,ATW+B,AIQlC,ANHO,UELY6E,IAAe,YKVpBnD,CEDAA,GFCZ,CEDA,CFCkB1B,CEDAA,IFClB,CEDA,CFCyB,CEDA,6CPWD,MAAQ;AKVP,AHDA,AKAA,APYvB,AIQJ,ANHK,WELIwE,YAAL,CAAkBK,IAAlB,GAAyBA,IAAzB;AWFF,AXGE,AIQJ,aJRW,EWHGnD,AVGC,GDACgD,CWHd,AVGiBiB,EUHC,IXGT,ECAI,AFNN,CAAE,QCMgB,KAAKzB,YAArB,SAAoCW,IAApC,SAA2C,KAAKR,WAAhD,GACJM,IADI,CACC,UAAAC,QAAQ;AWJA,ANTO,AHAvB,AKDuB,APcP,AIQpB,ANHIpF,IAAAA,WELoBoF,CFKR,CAAC7E,EAAD,CAAZ,GEL4B,AFKT,CELU+E,OAAT,CAAiB,CAAjB,EAAoBC,QAAxB,wCEbVrD,IAAN,EAAY1B,KAAZ;AFagB,AFMdtB,MAAAA,CEPK,EAEJiG,CFKG,EAAE/E,CEPD,CAEC,AFIW,UEJXgF,KSbD,GTaS;AWLA,ANRhB,AHAAe,AKDA,AEEA,ATYgB,AFMd3F,MAAAA,KAAK,EAALA,EENkB,KAAI,CAACgF,CEbhBiB,KAAT,CAAe,IHOL9C,EGPV,EAAuB,GFaH,CAAwByB,CSVtC,CPHsBsB,EHON,EUJXlG,ETUyC,CAACiF,ESV/C,CAAW4D,ATUG,EEbpB,AFa0DjE,EEfnC,CAGvB,EOAA,GTYkE,CAACM,GAA/C,CAAJ,SWJVxD,IADU,MFJX,EJJCA,CEDAA,EEKI1B,CJJV,CEDA,CFCYA,CEDAA,CEKP,CAAW0I,EJJhB,CEDA,YEEA,0BAIK,KAAK1I,KAAL,CAAW2I,cAJhB;AESD,ANTC,AEDA,AEOD,ATMiB,ADLhB,ADSmB,KAAnB,EENO,CAAP,EKVKpB,AEDAA,CRQAnE,KAAL,GAAa5B,MAAM,CMPnB,AEDA,ARQoB6B,GMPI,AEDA,GRQX,CAAc,EMPEkE,AEDAA,ARQhB,EAAkB,KAAKnE,KAAvB,EAA8BD,EMPnB,AEDA,CFCsB5B,AEDAA,IFCtB,AEDA,GRQX,CAAb,2BMPA,AEDA;APcD,ADLC1C,ADYA,MCZAA,OAAO,CAACC,GAAR,CAAY,OAAZ,EAAqB,IDYFiB,CCZOqD,CDY1B,ICZA;AMPAa,AHJuB,AKGvBA,ATqBD,GAvBQ,CAAT,4BOGqBuD,AEDAA,0BFCnB,AEDA,CFC8C,AEDA,MFCKD,AEDAA,gBFCnD,AEDA;ALCD,AHQC,ADaFtI,EAAAA,QAAQ,CCbDiE,ADaExC,OCbP,EDaF,GAAqB1B,MAArB,CA9BgC,CAgChC;AO1ByB,AEDA,ARaxB,EUhB8CgE,yBEiBxC,YXIYiC,KAAKC,KAAK;AWH3B,ANVD,AEDA,APc4B,AFU7B,MAAMvE,KabC2F,KbaS,GAAG,CAAC,EablB,GAAmB,EbaF,EAAU,CabHA,ObaP,CAAnB,GabqB,CAAiB/E,IAAjB,CAAsB,IAAtB,CAAnB;AACA,AbaF,MAAMX,KabCwC,KAAL,GAAa,QbaY,GAAGnE,QAAQ,CAAC4B,OAAT,CAAiBC,gBAAjB,CAAkC,CAACH,UAAD,EAAaI,GAAb,CAAiB,UAAAC,SAAS;AaZtFgI,AXEF,AFUwF,QaZtFA,KXEK,KWFK,AXEAtE,EWFE,EADD,EbauF1D,CEV7F,EEbF,GHSG,GDcgF,GEVjE,KAAKuD,YAArB,SAAoC,KAAKJ,YAAzC,SAAwD,KAAKG,WAA7D,SAA2EW,GAA3E,cAAkFC,GAAlF,gBACJP,IADI,CACC,UAAAC,QAAQ,EAAI;AWFlBqE,ATXF,AOIJ3K,ATUQ,ADLJ,ADawF,GAA1B,CAAlC,CAA9B,GaXI2K,AXGE,EDLA3F,CGTCF,GFcG,CAACoB,CWHC,ATXV,ESWY,AZFA,CGTC,EHSE,EYAF,GFLAhG,AVKO+E,CCKhB,GAAoB/B,EDLT,EULnB,AVKI,CULsBsH,CTUQ,CAACzF,MAAP,CAAc,EAAd,EAAkB,MSV9C,ATUkD,CAACmB,YAAvB,EAAqCI,QAArC,CAApB;AWFFsE,ATXA/C,AJsBJtH,EAAAA,MaXIqK,ATXA/C,CJsBG,CAACrH,GItBC,AJsBT,CAAY,CItBD,KAAKkB,CSWC,EAAE,ETXR,CAAWmG,CSQP,ANTR,AEDA,ILEI,GAAmB,CADf,EJuBf,EAAqCvF,qBAArC;AaVIuI,ANZF,AHCE/C,AKFF,APeI,ADLJ,ADcFxF,EAAAA,MaXIuI,ATXA/C,AFaE,EDLA,CMTChD,AEDAA,GPeG,CAACqB,CKdT,AEDA,CRUWnB,CGRC,CGDC,AEDA,CIaC,ATXA,ESWE,CbWG,CAACrC,CCdhB,CCKA,CAAiBA,GDLG,CDc1B,CAA8B,EETxB,CAAyB,GDL7B,EAAkC,EDcNC,GETCiE,IFSM,EAAI,IETA;AWN1B,ANPXsC,AHFW,AKCXgB,APcqC,ADJrCnF,ADcF3C,IAAAA,GahBA,ATTA,CGEE8G,AEDAgB,ARUAnF,IQVI,EAAE,ATwBE,CSxBD,ATwBErC,CCdD,CCIiCkE,EKb9B,ANSA,EMTE,CPuBf,COxBa,APwBM,CCdD3B,GCImC,CAAC,KFUnCxC,CEVuC,CAACwD,ODJ9C,ADce,CCdSlB,CDcL,GEVqB,CAAd,GDJ1B,CAAX;AYIH,ANZGoE,AHCH,AKFKgB,APamC,ADHtC,ADcC,QOvBAhB,CLYE,CObAgB,ATwBExH,EOvBA,EAAE,EAFK,CPyBA,CAACC,OSxBK,EAAE,EADZ,CTyBH,cAA6BH,SAA7B,EAAJ,EAA+C;AOtB/C2G,AEDEgB,APaD,AFWC,OEfG,CKRLhB,ALQF,EOTIgB,ETwBIvH,KOvBG,EAAE,EAHA,EP0BM,CSxBD,EAAE,ATwBEF,ES1Bb,KT0BoB,CAACG,YAAR,cAA6BL,SAA7B,GAA0CrB,KAA1C,CAAgD,QAAhD,EAA0D,CAA1D,CAAlB;AOtBFiI,AEDEF,APaL,ADJC,ADeItG,QOvBFwG,APuBExG,ESxBAsG,ARSAtF,IQTI,CRSC,CMRC,AEDA,ARSAC,EMRE,CPuBG,CO3BF,EP2BKjB,CCfd,CAAckC,QAAd,CDeyB,CAAChD,GCfCgD,EDeb,CAAkB,GAAlB,ECfqB,ADeE/C,CCfD,CAAD,CAAR,CAAYoC,EDezB,CCflB,ADegD,ECfA,QDeAnC,OAAO;AOtBrDqH,AELO,ARaPvE,ADcqD,QOtBrDuE,ANQAvE,CQbM,GFKF,EAAE,EALK,ANaH,CDciD9C,ECd9C,KDcqD,KAAK,IItB5D6F,EJsB4C,QItBlC,MSWM,AZHGnH,QAAQ,CAACuE,sBAAT,EAAjB,EAAoDH,QAApD,CAAX;AYGyB,ANVzBuB,AHAF,AKPa,AReZ,ADasD,OS5BvD,CFOEA,CPqBgB,EAA6DpE,COrBzE,EAAE,CPqBU,CAAkE,GAAlE,CAAd;AO3BS,AHSb,AKHD,ATsBKS,OO5BJ,CP4BIA,OAAO,CAACI,gBAAR,CAAyBN,SAAzB,EAAoC,GEVfmE,EFUmB,CAAC/D,SEVR,EFUO,CAAJ,CAAkBG,IAAlB,CAAuB,KAAvB,CAApC;AaXJ,ANTD,AHEC,AFSA,ADJA,ADcG,UaZC,CAAC,ATPA+E,AFSA7B,KWFKrB,KAAL,CAAW8F,ATPhB,AFSA,CETiB7C,AFSAjB,IAAjB,CAAsBD,GETtB,ISOA,EAA+B,AZFb,CCIlB,6BDJmC,KAAKzD,IAAtB,CAAlB,EAA+C4B,QAA/C;AYGEW,ATPH,AFSA,ADJA,ADcE,KAND,GaNEA,kBAAkB,CAACmF,cAAnB,GAAoCzE,IAApC,CAAyC,UAAAE,IAAI;AAAA,AbahD,GARD,EApCgC,CA8ChC,WadM,KAAI,CAACwE,eAAL,CAAqBxE,IAArB,AJTH,CIQ8C;AAAA,AJR9C,SIQC,CJTF+D,KACC,QADDA,KACC,SFCcd,aAAa;AMU1BjJ,ANTFA,AEDA+J,ATuBFpH,EAAAA,IOtBE3C,AEDA+J,EIUE/J,AbaE,CAAC4C,ESvBA,CAACgH,CFCC,APsBT,COtBU3J,APsBEU,CabD,CAACV,AJVV,CFCA,AEDWiC,CFCC,CMSV,CAAY,AJVd,CAAe,KTuBjB,EEZQsE,AFYkBpE,CabtB,ATRKsF,ESQkB1B,ANTzB,AEDewD,CLEL,CGDiBP,ALUhB,COXO,CIUhB,AbaJ,CSvBwB,ATuBU,GChBf9I,KMNjB,EPsBgCe,CChBP,CDgBS,EAAI;AaZrC,ANX2B,AHG5BwG,AKFE8B,APWF,ADLyB,ADiBzB,MIrBA9B,CAAC,CAACC,AKFA6B,ATuBI3G,EOpBJqG,CEHG,CAACc,ATuBI,CEZHvD,EFYMrG,GEZD,CKZgB,AEC1B,GFKE6I,AHHJ,AKFgB,CTuBK,CAACjH,ESvBFvB,GPWJ+F,COXA,CAASgD,ATuBZ,CEZD,AFYkB1G,COxBF,CAI1BoG,AEH0B,APWrB,COXsBG,APWNvD,IOXE,APWlB,CAAqB,EOXQ,CFDR,EPwBf,CSvBG,EACXwD,EPUuBvD,OFYsB7E,CEZd,CFYvB,CEZ2B,CFYxC,KSvBgB,CACQ,OADR,EACiB;AIUlC,ANZ6B,AHI5B,AKDM8I,APUJ,UKRAhE,AHDIA,AKDAgE,EPUA,CAACjE,CKbqB,AHIlB,GGENkD,AHFSvB,AKDA,CLCC,CAACE,AKDA,EPUA,CAAClB,EAAd,CETW,CAAS9C,AFSF,EKbQ,CAK1BoC,IAL0B,CHIf,CAAkBA,IAAlB,CAAuBsB,KAApC;AGJ4B,AEEK,APY7B,ADNJ,ADiBA,QAAMvE,CSxBU,CFOdoG,AEPA,AROI/I,CDiBG,GAAGX,COzBgB,CLclB,EKLNwJ,ANDU,ECMAtC,CDNGtG,ICMP,CAAU0F,GKLL,ANDU,CMCTqD,ANDU9I,ICME,CKdA,ALcCsG,CKN3BuC,IPiB2BrJ,COzBD,ENQX,ADiBL,CCjB4B,ADiBPa,CEXvB,CAAN,QDNa,CAAjB,CDiB6C,CAACO,EAAD,CAAZ,CAAiBrB,IAAtC,CAAZ;AIpBA,AKAC,APUE,ADNH,OQTA,GLKImG,AHIAzF,IGJJ,EAAU,QHIQ,GAAG,CAArB;AMCA,AHJEmH,AKAF,ARIA,ADgBA,QIpBEA,AJoBE3E,CIpBD,CGICmG,AHJAtB,AHIEpH,CQJDiH,AToBL,CAAQ5E,IIpBN,AHIU,ADgBZ,CIpBWe,CJoBGjD,COhBd,ANAe,EMAA,CEJf,CAAiBoJ,ARIEtJ,EGJjB,CAAkBuF,CHIL,CQJf,CIQO,CTRL,AHIwBtF,ADgBA,CIpBD4G,AJoBEpG,EAAD,CAAZ,CAAiBC,CIpB7B,CHIa,EGJkB,AHIjC,CDgBA,CIpBE;ASSF,ANJE+H,AEJH,APSG,ADLF,ADgBAlJ,IAAAA,IOhBEkJ,ENAIvI,CDgBC,CAACV,GEXC8F,AFWT,CAAYlD,COhBD,CAACmG,EPgBZ,EOhBE,ANAgB,CCKD,CAACnC,CKLC,ANAE,EAArB,CCKS,CKLcpG,CLKrB,GKLiB,CAASyI,SAAS,CAACG,IAAV,GAAiB,IAA1B,EACdC,kBADc,CACK,OADL,EACc;AMgBlC,ANfOC,AHNJnE,AFUD,ADJD,ADeD,GALD,IEXS,CAAP,EKCMmE,ANAA1E,KMAK,EAAE,MADoB,CNCb,GAAG,SGNFgD,cHMrB,CANyB,CGAvB,AHM8C,CGNV7B,IAApC;AGOIwD,AHNL,AFUF,AFWD7G,EAAAA,MAAM,CAACC,COfC4G,GAAG,APeX,CAAY7I,COfC,WPeb,EAA0ByB,OAA1B,CAAkC,UAAAlB,EAAE,EAAI;AOjBL,AHHlC,AHKC,ADgBA,QAAM2B,COnBa,CAAjB,ANGIiC,EDgBI,GAAG1E,QAAQ,CAAC4B,IChBE,CQLjB,ERKoB,ADgBd,CAAiBc,aAAjB,KChBb,ODgBkD5B,EAArC,EAAb;AOdEgI,AENF,ARKA,ADgBArG,IAAAA,IOfEqG,APeE,CAAClG,CSrBC4G,ARKAtI,IQLI,GFMC,AENE,CFMDsH,CPeZ,CAAgB3F,CChBC,CQLCsB,ERKE,GQLP,CAAWqF,CFMtB,GAAwBH,AENb,CACVvH,GFK2B,AENjB,CFMkBwH,AELxB,CToBP,CAAmC,GOfT,CAAWR,IEL9BM,GAAG,AToBV,EOf8C,APeE3G,COfD+F,GPeK,CAAC/G,KChBrD,CARyB,CMSC,ANDkC,CMC1D,CPeF;AOdEqH,AENQ,ATqBVrG,Ea1C6BsB,Eb0C7BtB,IOfEqG,APeE,CAAChG,QOfM,CAAC8C,EPeZ,CAAiB,COff,CPeF,CaFJ,CNbuBA,IAAjB,iCEL+BwD,GAAG,CAACQ,OAD3B,mBAC2CR,GAAG,CAACX,IAD/C,8BACuEW,GAAG,CAACK,eAD3E,6BAC6GL,GAAG,CAACM,cADjH;AFORZ,AEPQ,ARMV/I,ADgBD,GAJD,GCZEA,CQPa,CFQX+I,CELCtH,GRIG,CQPO,CAGL,CRICzB,EMCE,AERE,CFQDgJ,AERZ,GROe,CAACvI,CMCd,GAAkBuI,ANDX,GGNF,AHMgBtI,EMCrB,KNDO,CAAsBgE,cAAtB,EAAsC,UAACE,uBAAD,EAA6B;AME1E,AHPF,AKEA/E,ARIE,ADiBJ,MSrBEA,GTqBKI,GCjBGc,CMCDuG,AELA,CAACxH,ARIE,GQJV,ATqBa,CSrBD,ATqBE+B,MOhBZ,AELF,CFKmBkH,APgBrB,CSrBsBU,ERIDpJ,EQJnB,IFKE,ANDQ,SAAoBD,cAAc,EAAlC,CAAR;AMED,AHJF,AKDC,ARIE,ADiBL,CA5DM,WC2CKV,GCEG,CDFC,GCEGuF,ADFAN,QQJD8E,IAAd,MPMW,ADFsB,CAACrI,IAAnB,CAAwBwD,uB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","file":"js.00a46daa.js","sourceRoot":"../src","sourcesContent":["const ComponentFactory = {\n  mappings: {},\n  register: componentClass => ComponentFactory.mappings[componentClass.name] = componentClass,\n  get: componentClassName => ComponentFactory.mappings[componentClassName],\n};\nexport default ComponentFactory;\nconsole.log(ComponentFactory);\n/*\n Every component will need:\n  1) import ComponentFactory from \"../framework/ComponentFactory\";\n  2) ComponentFactory.register(ComponentClass); // to register component class with factory\n */\n","import ComponentFactory from '../framework/ComponentFactory';\n\nexport const parseJsx = string => {\n  const template = document.createElement('template');\n  let componentCount = 0;\n  const idBase = new Date().getTime();\n  const componentMap = {};\n\n  string = string.trim().replace(/<([A-Z][A-Za-z]*)(.*)\\/>/g, (match, p1, p2, offset) => {\n    const id = `z${  idBase  }${componentCount++}`;\n\n    // extract props\n    const props = {};\n    let parsingResults;\n    p2 = p2.trim();\n    if (p2.length) {\n      const paramsRegex = /(\\S+)=[\"']?((?:(?!\\/>|>|\"|'|\\s).)+)/g;\n      while ((parsingResults = paramsRegex.exec(p2)) !== null) {\n        const objectPropertyName = parsingResults[2].match(/{(.*)}/);\n        console.log('parce', objectPropertyName);\n        props[parsingResults[1]] = objectPropertyName ?\n          this[objectPropertyName[1].split('.').filter(segment => segment !== 'this').join('.')] :\n          parsingResults[2];\n      }\n    }\n\n    componentMap[id] = {\n      name: p1,\n      props,\n    };\n    return `<div id=\"${id}\"></div>`;\n  });\n  template.innerHTML = string;\n\n  // manage event handlers\n  const eventTypes = ['click', 'Submit'];\n  const elementsWithListeners = template.content.querySelectorAll([eventTypes].map(eventType => `on-${  eventType}`));\n  console.log('elementsWithListeners', elementsWithListeners);\n  elementsWithListeners.forEach(element => {\n    eventTypes.forEach(eventType => {\n      if (element.hasAttribute(`on-${  eventType}`)) {\n        let handlerName = element.getAttribute(`on-${  eventType}`).match(/{(.*)}/)[1];\n        handlerName = handlerName.split('.').filter(segment => segment !== 'this').join('.');\n        element.addEventListener(eventType, this[handlerName].bind(this));\n      }\n    });\n  });\n\n  // render mapped components\n  Object.keys(componentMap).forEach(id => {\n    const host = template.content.querySelector(`#${  id}`);\n    const cls = ComponentFactory.get(componentMap[id].name);\n    new cls(host, componentMap[id].props);\n    console.log(host);\n  });\n  Object.keys(componentMap).forEach(id => {\n    const host = template.content.querySelector(`#${  id}`);\n    host.parentNode.insertAdjacentHTML('beforeend', host.innerHTML);\n    host.replaceWith('');\n  });\n\n  return template.content;\n}\n\nexport const clearDomChildren = domElement => {\n  domElement.innerHTML = '';\n  return domElement;\n};\n\nexport const appendDomFragment = (domElement, domFragment) => {\n  if (Array.isArray(domFragment)) {\n    domElement.append(...domFragment);\n  } else {\n    domElement.append(domFragment);\n  }\n  return domElement;\n};\nexport const createDomFragment = string => {\n  const template = document.createElement('template');\n  template.innerHTML = string.trim();\n  return template.content;\n};\n\nexport const buildDomFragment = (host, elements) => {\n  elements.forEach(elementSpec => {\n    const element = document.createElement(typeof elementSpec.tag === 'string' ? elementSpec.tag : 'div');\n    if (elementSpec.innerHTML) {\n      element.innerHTML = elementSpec.innerHTML;\n    }\n    if (elementSpec.classList) {\n      if (typeof elementSpec.classList === 'string') {\n        elementSpec.classList = elementSpec.classList.split(' ');\n      }\n      element.classList.add(...elementSpec.classList);\n    }\n    if (typeof elementSpec.tag !== 'string') {\n      new elementSpec.tag(element, elementSpec.props);\n    }\n    if (elementSpec.children) {\n      buildDomFragment(element, elementSpec.children);\n    }\n    host.appendChild(element);\n  });\n  return host;\n};\n","import {clearDomChildren,\n  appendDomFragment,\n  createDomFragment,\n  buildDomFragment} from '../utils/parser';\nimport ComponentFactory from './ComponentFactory';\n\nexport default class Component {\n  constructor(host, props = {}) {\n    this.host = host;\n    this.props = props;\n    this.init();\n    this._render();\n  }\n\n  init() {}\n\n  updateState(stateDelta) {\n    this.state = Object.assign({}, this.state, stateDelta);\n    console.log('state', this.state);\n    this._render();\n  }\n\n  _render() {\n    let rendered = this.render();\n    if (typeof rendered === 'string') {\n      rendered = this._createDomFragment(rendered);\n    }\n    if (Array.isArray(rendered) && rendered[0].tag) {\n      rendered = buildDomFragment(document.createDocumentFragment(), rendered);\n    }\n    appendDomFragment(clearDomChildren(this.host), rendered);\n  }\n\n  _createDomFragment(string) {\n    const template = document.createElement('template');\n    let componentCount = 0;\n    const idBase = new Date().getTime();\n    const componentMap = {};\n\n    const componentRegex = /<[A-Z][A-Za-z].+?\\/>/g; // <Component/>\n    const componentNameRegex = /<([A-Z][A-Za-z]*)/;\n    const paramsRegex = /(\\S+)=[\"']?((?:(?!\\/>|>|\"|'|\\s).)+)/g; // param=value\n\n    string = string.trim().replace(componentRegex, (parsingComponentResults) => {\n      const id = `z${  idBase  }${componentCount++}`;\n      const name = componentNameRegex.exec(parsingComponentResults)[1];\n      const props = {};\n      let parsingParamsResults;\n      while ((parsingParamsResults = paramsRegex.exec(parsingComponentResults)) !== null) {\n        const [, propsName, propsValue] = parsingParamsResults;\n        const objectPropertyName = propsValue.match(/{(.*)}/);\n        props[propsName] =\n          objectPropertyName ?\n          this[objectPropertyName[1].split('.').filter(segment => segment !== 'this').join('.')] :\n          propsValue;\n      }\n      componentMap[id] = {\n        name,\n        props,\n      };\n      return `<div id=\"${id}\"></div>`;\n    });\n    template.innerHTML = string;\n\n    // manage event handlers\n    const eventTag = [];\n    const eventTypes = ['clicletkas', 'form', 'submit'];\n    const elementsWithListeners = template.content.querySelectorAll([eventTypes].map(eventType => `on-${  eventType}`));\n    elementsWithListeners.forEach(element => {\n      eventTypes.forEach(eventType => {\n        if (element.hasAttribute(`on-${  eventType}`)) {\n          let handlerName = element.getAttribute(`on-${  eventType}`).match(/{(.*)}/)[1];\n          handlerName = handlerName.split('.').filter(segment => segment !== 'this').join('.');\n          if (this[handlerName]) {\n            console.log('element', element, eventType, handlerName);\n            element.addEventListener(eventType, this[handlerName].bind(this));\n          }\n        }\n      });\n    });\n    // render mapped components\n    Object.keys(componentMap).forEach(id => {\n      const host = template.content.querySelector(`#${  id}`);\n      const cls = ComponentFactory.get(componentMap[id].name);\n      new cls(host, componentMap[id].props);\n      console.log(host);\n      // host.outerHTML = host.innerHTML;\n    });\n\n    return template.content;\n  }\n}\n","class WeatherDataService {\n  constructor() {\n    this.geocoderBase = 'https://api.opencagedata.com/geocode/v1/json?q='\n    this.forecastBase = 'https://api.darksky.net/forecast/';\n    this.currentLocationBase = 'https://ipapi.co/json';\n    this.geocoderKey = '&key=39b7025dc04d4a47a61c8866819b5161';\n    this.forecastKey = 'f5bcd9de3734de86a2d47a58d91793ab/';\n    this.corsAnywhere = 'https://cors-anywhere.herokuapp.com/'\n    this.forecastData = {};\n    this.subscribers = [];\n  }\n\n\n  getCurrentLocation() {\n    return this.getData(this.currentLocationBase).then(response => response.city);\n  }\n\n  // `${this.geocoderBase}${city}${this.geocoderFormat}`\n  forwardGeocoding(city = 'Kiev') {\n    this.forecastData.city = city;\n    return this.getData(`${this.geocoderBase}${city}${this.geocoderKey}`)\n      .then(response => response.results[0].geometry)\n      .then(response => this.getWeatherForecast(response.lat, response.lng));\n  }\n\n  getWeatherForecast(lat, lng) {\n    return this.getData(`${this.corsAnywhere}${this.forecastBase}${this.forecastKey}${lat},${lng}?units=ca`)\n      .then(response => {\n        this.forecastData = Object.assign({}, this.forecastData, response);\n        this.subscribers.forEach(subscriber => subscriber(this.forecastData));\n      })\n  };\n\n  subscribeForCurrentWeather(subscriber) {\n    this.subscribers.push(subscriber)\n  }\n\n  getData(api) {\n    return fetch(`${api}`).then(response => {\n      if (!response.ok) {\n        throw new Error(response.statusText);\n      }\n      return response.json();\n    });\n  }\n}\n\nexport default new WeatherDataService();\n","class AppState {\n  constructor() {\n    this.watchers = {\n      // 'ENTITY': [ watcher1, watcher2 ],\n    };\n  }\n\n  watch(entity, watcher) {\n    if (this.watchers[entity]) {\n      this.watchers[entity].push(watcher);\n    } else {\n      this.watchers[entity] = [watcher];\n    }\n  }\n\n  update(entity, newValue) {\n    this.watchers[entity] && this.watchers[entity].forEach(watcher => watcher(newValue));\n  }\n}\n\nexport default new AppState();\n","import Component from '../../framework/Component';\nimport ComponentFactory from '../../framework/ComponentFactory';\nimport WeatherDataService from '../../Services/WeatherDataService';\nimport AppState from '../../Services/AppState';\n\n\nexport default class SearchBar extends Component {\n  constructor(host, props) {\n    super(host, props);\n    AppState.watch('CITY', this.updateMyself);\n    // window.addEventListener('submit', this.onSubmit.bind(this));\n  }\n\n  init() {\n    this.state = {\n      value: this.props.value * 2,\n      quantifier: 7,\n    };\n  }\n\n  updateMyself(subState) {\n    // .... transform response\n\n\n    // do update\n    this.updateState(subState);\n  }\n\n  onSubmit(e) {\n    e.preventDefault();\n    const city = e.target.elements.city.value;\n    if (city) {\n      e.target.elements.city.value = '';\n      WeatherDataService.forwardGeocoding(city);\n    }\n  }\n\n  render() {\n    return ` <form on-Submit={this.onSubmit}>\n               <input class=\"search__input \" name=\"city\" placeholder=\"city\" type=\"text\" value=\"\" />\n               <button class=\"search__button\" type=\"submit\"/>search</button>\n             </form>`\n  }\n}\n\n//\n\nComponentFactory.register(SearchBar); // to register component class with factory\n","export {\n  default as SearchBar\n}\nfrom './SearchBar';\n","import fog from '../../icons/animated/rainy-7.svg';\nimport rain from '../../icons/animated/rainy-1.svg';\nimport snow from '../../icons/animated/snowy-1.svg';\nimport wind from '../../icons/animated/thunder.svg';\nimport sleet from '../../icons/animated/rainy-2.svg';\nimport cloudy from '../../icons/animated/cloudy.svg';\nimport clearDay from '../../icons/animated/day.svg';\nimport clearNight from '../../icons/animated/night.svg';\nimport partlyCloudyDay from '../../icons/animated/cloudy-day-1.svg';\nimport partlyCloudyNight from '../../icons/animated/cloudy-night-1.svg';\n\nconst imageUrl = {\n  'fog': fog,\n  'rain': rain,\n  'snow': snow,\n  'wind': wind,\n  'sleet': sleet,\n  'cloudy': cloudy,\n  'clear-day': clearDay,\n  'clear-night': clearNight,\n  'partly-cloudy-day': partlyCloudyDay,\n  'partly-cloudy-night': partlyCloudyNight,\n};\n\nexport default imageUrl;\n// list = [\n//   'clear-day', 'clear-night', 'partly-cloudy-day',\n//   'partly-cloudy-night', 'cloudy', 'rain', 'sleet', 'snow', 'wind',\n//   'fog'\n// ];\n","import Component from '../../framework/Component';\nimport AppState from '../../Services/AppState';\nimport ComponentFactory from '../../framework/ComponentFactory';\nimport WeatherDataService from '../../Services/WeatherDataService';\nimport imageUrl from '../../utils/icons';\n\n\nexport default class CurrentWeather extends Component {\n  constructor(host, props) {\n    super(host, props);\n    this.onServerResponse = this.onServerResponse.bind(this);\n    WeatherDataService.subscribeForCurrentWeather(this.onServerResponse);\n  }\n\n  init() {\n    this.state = {\n      temperature: '',\n      icon: '',\n      windSpeed: '',\n      humidity: '',\n      date: '',\n      city: '',\n    };\n  }\n\n\n  onServerResponse(weatherData) {\n    console.log('weatherData', weatherData);\n\n    const {\n      currently,\n      city\n    } = weatherData;\n    const {\n      units\n    } = weatherData.flags;\n    if (currently) {\n      currently.date = new Date(currently.time * 1000)\n        .toLocaleDateString('en-US', {\n          month: 'long',\n          day: 'numeric'\n        });\n      currently.temperature = Math.round(currently.temperature);\n      currently.city = city;\n      currently.units = units;\n      this.updateState(currently);\n    }\n  }\n\n  render() {\n    return `\n  <div class=\"temp\">\n  ${this.state.temperature}\n  ${(this.state.units='ca')?'<span>C |<a>F</a></span>':'<span>C|<a>F</a></span>'}\n  </div>\n  <div class=\"right\">\n    <div class=\"date\">${this.state.date}</div>\n    <div class=\"summary\">${this.state.city}</div>\n    <div class=\"date\">${this.state.humidity}</div>\n    <div class=\"date\">${this.state.windSpeed}</div>\n  </div>\n  <div class=\"weather-icon\">\n  <img src=\"${imageUrl[this.state.icon]}\" />\n  </div>`\n  }\n}\nComponentFactory.register(CurrentWeather);\n","export {\n  default as CurrentWeather\n}\nfrom './CurrentWeather';\n","import Component from '../../framework/Component';\nimport AppState from '../../Services/AppState';\nimport ComponentFactory from '../../framework/ComponentFactory';\nimport WeatherDataService from '../../Services/WeatherDataService';\nimport imageUrl from '../../utils/icons';\n\nexport default class WeatherForecast extends Component {\n  constructor(host, props) {\n    super(host, props);\n    this.onServerResponse = this.onServerResponse.bind(this);\n    WeatherDataService.subscribeForCurrentWeather(this.onServerResponse);\n  }\n\n  init() {\n    this.state = {\n      data: [{\n        temperatureHigh: '',\n        temperatureLow: '',\n        icon: '',\n      }, ]\n    }\n  }\n\n  onServerResponse({\n    daily\n  }) {\n    daily.data.map(day => {\n      day.weekday = new Date(day.time * 1000)\n        .toLocaleDateString('en-US', {\n          weekday: 'short',\n        });\n    });\n    this.updateState(daily);\n  }\n\n  render() {\n    const data = this.state.data\n      .map(day => `\n      <WeatherForecastItem weekday=${day.weekday} icon=${day.icon} temperatureHigh=${day.temperatureHigh} temperatureLow=${day.temperatureLow}/>`)\n      .join(' ');\n    console.log('data', data);\n    return `<ul>${data}</ul>`;\n  }\n}\nComponentFactory.register(WeatherForecast);\n","export {\n  default as WeatherForecast\n}\nfrom './WeatherForecast';\n","import Component from '../../framework/Component';\nimport ComponentFactory from '../../framework/ComponentFactory';\nimport imageUrl from '../../utils/icons';\n\nexport default class WeatherForecastItem extends Component {\n  constructor(host, props) {\n    super(host, props);\n  }\n\n  render() {\n    return `\n  <li>\n    <h4>${this.props.weekday}</h4>\n    <p>${this.props.temperatureHigh}</p>\n    <p>${this.props.temperatureLow}</p>\n  </li>`\n  }\n}\nComponentFactory.register(WeatherForecastItem);\n","export {\n  default as WeatherForecastItem\n}\nfrom './WeatherForecastItem';\n","import Component from '../../framework/Component';\nimport ComponentFactory from '../../framework/ComponentFactory';\nimport {\n  SearchBar\n} from '../SearchBar';\nimport {\n  CurrentWeather\n} from '../CurrentWeather';\nimport {\n  WeatherForecast\n} from '../WeatherForecast';\nimport {\n  WeatherForecastItem\n} from '../WeatherForecastItem';\n\n\nexport default class App extends Component {\n  constructor(host) {\n    super(host);\n  }\n\n  init() {\n    this.updateState = this.updateState.bind(this);\n    this.state = {\n      inputValue: '',\n      hasError: false,\n      todayForecast: null,\n      weekForecast: null,\n    };\n  }\n\n  getWeattherFromGeolocation() {\n    if (!this.state.todayForecast) {\n      WeatherDataService.getGeolocation().then(city =>\n        this.getCityForecast(city),\n      );\n      console.log('geo.loc', city);\n    }\n  }\n\n  render() {\n    return `\n    <nav class=\"search__container\">\n      <SearchBar/>\n    </nav>\n    <div id=\"card\" class=\"weather\">\n      <div class=\"details\">\n      <CurrentWeather/>\n      </div>\n    <div class=\"forcast\">\n      <WeatherForecast/>\n    </div>\n    </div>\n    `;\n  }\n}\n// to register component class with factory\n","export {default as App} from \"./App\";\n","import '../style.scss';\n// import {routes} from './routes/routes';\n// import Router from './framework/Router'\nimport {App} from './Components/App';\n\nnew App(document.getElementById('app'))\n// , routes, App)\n// router.init();\n","var bundleURL = null;\nfunction getBundleURLCached() {\n  if (!bundleURL) {\n    bundleURL = getBundleURL();\n  }\n\n  return bundleURL;\n}\n\nfunction getBundleURL() {\n  // Attempt to find the URL of the current script and use that as the base URL\n  try {\n    throw new Error;\n  } catch (err) {\n    var matches = ('' + err.stack).match(/(https?|file|ftp|chrome-extension|moz-extension):\\/\\/[^)\\n]+/g);\n    if (matches) {\n      return getBaseURL(matches[0]);\n    }\n  }\n\n  return '/';\n}\n\nfunction getBaseURL(url) {\n  return ('' + url).replace(/^((?:https?|file|ftp|chrome-extension|moz-extension):\\/\\/.+)\\/[^/]+$/, '$1') + '/';\n}\n\nexports.getBundleURL = getBundleURLCached;\nexports.getBaseURL = getBaseURL;\n","var bundle = require('./bundle-url');\n\nfunction updateLink(link) {\n  var newLink = link.cloneNode();\n  newLink.onload = function () {\n    link.remove();\n  };\n  newLink.href = link.href.split('?')[0] + '?' + Date.now();\n  link.parentNode.insertBefore(newLink, link.nextSibling);\n}\n\nvar cssTimeout = null;\nfunction reloadCSS() {\n  if (cssTimeout) {\n    return;\n  }\n\n  cssTimeout = setTimeout(function () {\n    var links = document.querySelectorAll('link[rel=\"stylesheet\"]');\n    for (var i = 0; i < links.length; i++) {\n      if (bundle.getBaseURL(links[i].href) === bundle.getBundleURL()) {\n        updateLink(links[i]);\n      }\n    }\n\n    cssTimeout = null;\n  }, 50);\n}\n\nmodule.exports = reloadCSS;\n"]}